!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={exports:{},id:a,loaded:!1};return e[a].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="/assets",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var i=n(1),o=a(i),r=n(2),s=a(r),u=n(3),d=(0,o.default)(u.GAME_WIDTH*u.GAME_SCALE,u.GAME_HEIGHT*u.GAME_SCALE);window.focus(),(0,s.default)(d)},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,n=document.createElement("canvas");return n.setAttribute("width",e),n.setAttribute("height",t),document.body.appendChild(n),n.getContext("2d")}function a(){return this.context}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,i={context:n(e,t),getContext:a};return i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.timestamp,n=void 0===t?0:t,a=e.state,i=void 0===a?{}:a;return[i,y.inputState,c.update,f.update,m.update,h.update].reduce(function(e,t){return u({},e,t({timestamp:n,state:e}))})}function o(e){var t=e.timestamp,n=void 0===t?0:t,a=e.state,i=void 0===a?{}:a,o=e.canvas,r=void 0===o?null:o;[l.draw,f.draw,m.draw,h.draw,p.draw,g.default].forEach(function(e){return e({timestamp:n,state:i,canvas:r})})}function r(e,t,n){var a=u({},t,i({timestamp:e,state:t}));o({timestamp:e,state:a,canvas:n}),window.requestAnimationFrame(function(e){return r(e,a,n)})}function s(e){(0,y.listenToInput)();var t=u({},c.setup,m.setup,(0,h.setup)({},d.GAME_WIDTH,d.GAME_HEIGHT),f.setup,{input:(0,y.inputState)({}).input});r(0,t,e)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d=n(3),c=n(4),l=n(10),f=n(11),p=n(12),v=n(13),g=a(v),m=n(5),h=n(9),y=n(14);t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GAME_WIDTH=30,t.GAME_HEIGHT=30,t.GAME_SCALE=10},function(e,t,n){"use strict";function a(e){var t=e.state;return!t.game.started&&t.input.space?{game:i({},t.game,{started:!0})}:t.game.started&&t.input.pause?{game:i({},t.game,{paused:!t.game.paused})}:t.snake.dead&&t.input.space?i({},r.setup):{}}Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.update=a;var o=n(3),r=n(5);t.setup={game:{started:!1,paused:!1,width:o.GAME_WIDTH,height:o.GAME_HEIGHT,scale:o.GAME_SCALE}}},function(e,t,n){"use strict";function a(e,t){return{position:{x:t.x+e.x,y:t.y+e.y}}}function i(e,t){return t.filter(function(t){return(0,p.isSamePosition)(e,t)}).length>0}function o(e){var t={};return e.input.up&&!(0,p.isSamePosition)(e.snake.dir,f.DOWN)?t={dir:f.UP}:e.input.down&&!(0,p.isSamePosition)(e.snake.dir,f.UP)?t={dir:f.DOWN}:e.input.left&&!(0,p.isSamePosition)(e.snake.dir,f.RIGHT)?t={dir:f.LEFT}:e.input.right&&!(0,p.isSamePosition)(e.snake.dir,f.LEFT)&&(t={dir:f.RIGHT}),t}function r(e){return.9+.05*e.tail.length}function s(e){return 100/r(e)}function u(e){var t=e.timestamp,n=e.state,r=void 0===n?{}:n;if(!r.game.started)return{};var u=l({},r.snake);return!r.game.paused&&!r.snake.dead&&t-s(r.snake)>r.snake.prevTick&&(u.prevTick=t,u=l({},u,o(r)),u=l({},u,a(r.snake.dir,r.snake.position)),(u.position.x<0||u.position.x>=r.game.width||u.position.y<0||u.position.y>=r.game.height||i(u.position,r.snake.tail))&&(u=l({},r.snake,{dead:!0})),u.dead||((0,g.snakeTouchesFood)(u,r.food)?u=l({},u,{tail:r.snake.tail.concat(r.snake.position)}):r.snake.tail.length>0&&(u=l({},u,{tail:r.snake.tail.slice(1,r.snake.tail.length).concat(r.snake.position)})))),{snake:l({},u)}}function d(e,t){return function(n){e.fillRect((0,v.scaledPosition)(n.x,t),(0,v.scaledPosition)(n.y,t),t,t)}}function c(e){var t=e.state,n=void 0===t?m:t,a=e.canvas,i=void 0===a?null:a;if(n.game.started){var o=i.getContext();o.fillStyle=n.snake.dead?"black":"white",d(o,n.game.scale)(n.snake.position),n.snake.tail.forEach(d(o,n.game.scale))}}Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.update=u,t.draw=c;var f=n(6),p=n(7),v=n(8),g=n(9),m=t.setup={snake:{prevTick:0,dead:!1,position:{x:1,y:1},tail:[{x:0,y:1}],dir:f.RIGHT}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UP={x:0,y:-1},t.DOWN={x:0,y:1},t.LEFT={x:-1,y:0},t.RIGHT={x:1,y:0},t.UP_KEY=38,t.DOWN_KEY=40,t.LEFT_KEY=37,t.RIGHT_KEY=39},function(e,t){"use strict";function n(e,t){return e.x===t.x&&e.y===t.y}Object.defineProperty(t,"__esModule",{value:!0}),t.isSamePosition=n,t.default=n},function(e,t){"use strict";function n(e,t){return e*t}Object.defineProperty(t,"__esModule",{value:!0}),t.scaledPosition=n,t.default=n},function(e,t,n){"use strict";function a(e,t,n){return!t||!n||(e.position.x===t&&e.position.y===n||e.tail.filter(function(e){return e.x===t&&e.y===n}).length>0)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.setup.snake,t=arguments[1],n=arguments[2],i=null,o=null;do i=Math.floor(Math.random()*t),o=Math.floor(Math.random()*n);while(a(e,i,o));return{x:i,y:o}}function o(e,t){return e.position.x===t.x&&e.position.y===t.y}function r(e,t,n){return{food:i(e.snake,t,n)}}function s(e){var t=e.state,n=void 0===t?{}:t;if(!n.game.started)return{};var a=d({},n.food);return(n.snake.dead&&n.input.space||o(n.snake,n.food))&&(a=i(n.snake,n.game.width,n.game.height)),{food:a}}function u(e){var t=e.state,n=void 0===t?r:t,a=e.canvas,i=void 0===a?null:a;if(n.game.started){var o=i.getContext();o.fillStyle="red",o.fillRect((0,c.scaledPosition)(n.food.x,n.game.scale),(0,c.scaledPosition)(n.food.y,n.game.scale),n.game.scale,n.game.scale)}}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.snakeTouchesFood=o,t.setup=r,t.update=s,t.draw=u;var c=n(8),l=n(5)},function(e,t){"use strict";function n(e){var t=e.state,n=void 0===t?{game:{width:60,height:60}}:t,a=e.canvas,i=void 0===a?null:a,o=i.getContext();o.fillStyle=n.snake.dead?"red":"black",o.fillRect(0,0,n.game.width*n.game.scale,n.game.height*n.game.scale)}Object.defineProperty(t,"__esModule",{value:!0}),t.draw=n},function(e,t){"use strict";function n(e){var t=e.timestamp,n=e.state,a=void 0===n?{}:n;return t-a.startScreen.prevCheck<100?{}:{startScreen:{prevCheck:t,colour:i[Math.floor(Math.random()*t)%i.length]}}}function a(e){var t=e.state,n=void 0===t?o:t,a=e.canvas,i=void 0===a?null:a;if(!n.game.started){var r=i.getContext();r.fillStyle=n.startScreen.colour,r.textBaseline="top",r.font="48px monospace",r.fillText("Snake",50,50),r.font="14px monospace",r.fillText('press "space" to play',52,100),r.fillText("use arrow keys to move",52,130),r.fillText('press "p" to pause game',52,160)}}Object.defineProperty(t,"__esModule",{value:!0}),t.update=n,t.draw=a;var i=["#FF4E50","#FC913A","#F9D423","#EDE574","#E1F5C4"],o=t.setup={startScreen:{prevCheck:0,colour:i[0]}}},function(e,t){"use strict";function n(e){var t=e.state,n=void 0===t?{}:t,a=e.canvas,i=void 0===a?null:a;if(n.snake&&n.snake.dead){var o=i.getContext();o.fillStyle="white",o.textBaseline="top",o.textAlign="left",o.font="48px monospace",o.fillText("You died",20,50),o.font="14px monospace",o.fillText('press "space" to restart',22,100)}}Object.defineProperty(t,"__esModule",{value:!0}),t.draw=n},function(e,t,n){"use strict";function a(e){var t=e.state,n=void 0===t?{}:t,a=e.canvas,o=void 0===a?null:a;if(n.game.started){var r=o.getContext();r.fillStyle="white",r.textBaseline="top",r.textAlign="right",r.font="14px monospace",r.fillText(10*(n.snake.tail.length-1),i.GAME_WIDTH*i.GAME_SCALE-3,3)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(3)},function(e,t,n){"use strict";function a(e){return{up:e===s.UP_KEY,down:e===s.DOWN_KEY,left:e===s.LEFT_KEY,right:e===s.RIGHT_KEY,space:e===u.SPACE_KEY,pause:e===u.PAUSE_KEY,keyCode:e}}function i(){return{input:d}}function o(e){return e[e.length-1]}function r(){d=a({},null),window.addEventListener("keydown",function(e){c=c.filter(function(t){return t!==e.keyCode}).concat(e.keyCode),d=a(o(c))}),window.addEventListener("keyup",function(e){c=c.filter(function(t){return t!==e.keyCode}),d=a(o(c))})}Object.defineProperty(t,"__esModule",{value:!0}),t.inputStateByKeyCode=a,t.inputState=i,t.listenToInput=r;var s=n(6),u=n(15),d={},c=[]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SPACE_KEY=32,t.PAUSE_KEY=80}]);