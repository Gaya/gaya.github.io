!function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={exports:{},id:a,loaded:!1};return e[a].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="/assets",t(0)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e){l=e}function i(e){r(o({},l,c.update({timestamp:e,state:l}))),c.draw({state:l,canvas:f}),window.requestAnimationFrame(i)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=n(1),u=a(s),c=n(2),d=n(3),l={},f=u.default(d.GAME_WIDTH*d.GAME_SCALE,d.GAME_HEIGHT*d.GAME_SCALE);window.focus(),r(c.setup({state:l})),i()},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,n=document.createElement("canvas");return n.setAttribute("width",e),n.setAttribute("height",t),document.body.appendChild(n),n.getContext("2d")}function a(){return this.context}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:600,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,r={context:n(e,t),getContext:a};return r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function a(e){var t=e.state,n=void 0===t?{}:t;return p.listenToInput(),o({},n,u.setup,l.setup,f.setup(n,s.GAME_WIDTH,s.GAME_HEIGHT),d.setup,{input:p.inputState().input})}function r(e){var t=e.timestamp,n=void 0===t?0:t,a=e.state,r=void 0===a?{}:a;return[p.inputState,u.update,c.update,d.update,l.update,f.update].map(function(e){return Object.assign({},e({timestamp:n,state:r}))}).reduce(function(e,t){return Object.assign({},e,t)})}function i(e){var t=e.state,n=void 0===t?{}:t,a=e.canvas,r=void 0===a?null:a;[c.draw,d.draw,l.draw,f.draw].forEach(function(e){return e({state:n,canvas:r})})}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.setup=a,t.update=r,t.draw=i;var s=n(3),u=n(13),c=n(4),d=n(11),l=n(5),f=n(9),p=n(10)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GAME_WIDTH=30,t.GAME_HEIGHT=30,t.GAME_SCALE=10},function(e,t){"use strict";function n(){return{}}function a(e){var t=e.state,n=void 0===t?{game:{width:60,height:60}}:t,a=e.canvas,r=void 0===a?null:a,i=r.getContext();i.fillStyle="black",i.fillRect(0,0,n.game.width*n.game.scale,n.game.height*n.game.scale)}Object.defineProperty(t,"__esModule",{value:!0}),t.update=n,t.draw=a},function(e,t,n){"use strict";function a(e,t){return{position:{x:t.x+e.x,y:t.y+e.y}}}function r(e,t){return t.filter(function(t){return l.isSame(e,t)}).length>0}function i(e){var t={};return e.input.up&&!l.isSame(e.snake.dir,d.DOWN)?t={dir:d.UP}:e.input.down&&!l.isSame(e.snake.dir,d.UP)?t={dir:d.DOWN}:e.input.left&&!l.isSame(e.snake.dir,d.RIGHT)?t={dir:d.LEFT}:e.input.right&&!l.isSame(e.snake.dir,d.LEFT)&&(t={dir:d.RIGHT}),t}function o(e){var t=e.timestamp,n=e.state,o=void 0===n?{}:n;if(!o.game.started)return{};var s=c({},o.snake);return o.game.paused||o.snake.dead||t-100/(.9+.05*o.snake.tail.length)<=o.snake.prevTick||(s.prevTick=t,s=c({},s,i(o)),s=c({},s,a(o.snake.dir,o.snake.position)),(s.position.x<0||s.position.x>=o.game.width||s.position.y<0||s.position.y>=o.game.height||r(s.position,o.snake.tail))&&(s=c({},o.snake,{dead:!0})),s.dead||(p.snakeTouchesFood(s,o.food)?s=c({},s,{tail:o.snake.tail.concat(o.snake.position)}):o.snake.tail.length>0&&(s=c({},s,{tail:o.snake.tail.slice(1,o.snake.tail.length).concat(o.snake.position)})))),{snake:c({},s)}}function s(e,t){return function(n){e.fillRect(f.scaledPosition(n.x,t),f.scaledPosition(n.y,t),t,t)}}function u(e){var t=e.state,n=void 0===t?v:t,a=e.canvas,r=void 0===a?null:a;if(n.game.started){var i=r.getContext();i.fillStyle="white",s(i,n.game.scale)(n.snake.position),n.snake.tail.forEach(s(i,n.game.scale))}}Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.update=o,t.draw=u;var d=n(6),l=n(7),f=n(8),p=n(9),v=t.setup={snake:{prevTick:0,dead:!1,position:{x:1,y:1},tail:[],dir:d.RIGHT}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UP={x:0,y:-1},t.DOWN={x:0,y:1},t.LEFT={x:-1,y:0},t.RIGHT={x:1,y:0},t.UP_KEY=38,t.DOWN_KEY=40,t.LEFT_KEY=37,t.RIGHT_KEY=39},function(e,t){"use strict";function n(e,t){return JSON.stringify(e)===JSON.stringify(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.isSame=n,t.default=n},function(e,t){"use strict";function n(e,t){return e*t}Object.defineProperty(t,"__esModule",{value:!0}),t.scaledPosition=n,t.default=n},function(e,t,n){"use strict";function a(e,t,n){return t&&n?e.position.x===t&&e.position.y===n||e.tail.filter(function(e){return e.x===t&&e.y===n}).length>0:!0}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.setup.snake,t=arguments[1],n=arguments[2],r=null,i=null;do r=Math.floor(Math.random()*t),i=Math.floor(Math.random()*n);while(a(e,r,i));return{x:r,y:i}}function i(e,t){return e.position.x===t.x&&e.position.y===t.y}function o(e,t,n){return{food:r(e.snake,t,n)}}function s(e){var t=e.state,n=void 0===t?{}:t;if(!n.game.started)return{};var a=c({},n.food);return i(n.snake,n.food)&&(a=r(n.snake,n.game.width,n.game.height)),{food:a}}function u(e){var t=e.state,n=void 0===t?o:t,a=e.canvas,r=void 0===a?null:a;if(n.game.started){var i=r.getContext();i.fillStyle="red",i.fillRect(d.scaledPosition(n.food.x,n.game.scale),d.scaledPosition(n.food.y,n.game.scale),n.game.scale,n.game.scale)}}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.snakeTouchesFood=i,t.setup=o,t.update=s,t.draw=u;var d=n(8),l=n(5)},function(e,t,n){"use strict";function a(e){return{up:e===o.UP_KEY,down:e===o.DOWN_KEY,left:e===o.LEFT_KEY,right:e===o.RIGHT_KEY,space:e===s.SPACE_KEY,pause:e===s.PAUSE_KEY,keyCode:e}}function r(){return{input:u}}function i(){u=a({},null),window.addEventListener("keydown",function(e){c=c.filter(function(t){return t!==e.keyCode}).concat(e.keyCode),u=a(c[0])}),window.addEventListener("keyup",function(e){c=c.filter(function(t){return t!==e.keyCode}),u=a(c[0])})}Object.defineProperty(t,"__esModule",{value:!0}),t.inputStateByKeyCode=a,t.inputState=r,t.listenToInput=i;var o=n(6),s=n(12),u={},c=[]},function(e,t){"use strict";function n(e){var t=e.timestamp,n=e.state,a=void 0===n?{}:n;return t-a.startScreen.prevCheck<100?a.startScreen:a.input.space?{game:r({},a.game,{started:!0})}:{startScreen:{prevCheck:t,colour:i[Math.floor(Math.random()*t)%i.length]}}}function a(e){var t=e.state,n=void 0===t?o:t,a=e.canvas,r=void 0===a?null:a;if(!n.game.started){var i=r.getContext();i.fillStyle=n.startScreen.colour,i.textBaseline="top",i.font="48px monospace",i.fillText("Snake",50,50),i.font="14px monospace",i.fillText('press "space" to play',52,100),i.fillText("use arrow keys to move",52,130),i.fillText('press "p" to pause game',52,160)}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.update=n,t.draw=a;var i=["#FF4E50","#FC913A","#F9D423","#EDE574","#E1F5C4"],o=t.setup={startScreen:{prevCheck:0,colour:i[0]}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SPACE_KEY=32,t.PAUSE_KEY=80},function(e,t,n){"use strict";function a(e){var t=e.state;return t.game.started&&t.input.pause?{game:r({},t.game,{paused:!t.game.paused})}:{}}Object.defineProperty(t,"__esModule",{value:!0}),t.setup=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.update=a;{var i=n(3);t.setup={game:{started:!1,paused:!1,width:i.GAME_WIDTH,height:i.GAME_HEIGHT,scale:i.GAME_SCALE}}}}]);
